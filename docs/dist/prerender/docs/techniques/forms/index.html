<!DOCTYPE html>
<html lang="en" data-reactroot=""><head><link rel="stylesheet" href="/dist/server.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/dist/client.css"/><link rel="icon" type="image/png" href="/assets/img/favicon-32x32.png"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Sitecore JavaScript Services Documentation"/><title data-react-helmet="true">Working Connected | Sitecore JSS Documentation</title></head><body><div id="app"><section class="ant-layout" id="app-wrap"><header class="ant-layout-header"><div class="ant-row ant-row-start" style="padding:30px"><a style="flex:300px" href="/"><img src="/assets/img/sitecore-logo.svg" height="53px" alt="Sitecore JSS" class="logo"/></a><ul flex="auto" style="border-bottom:none" class="ant-menu ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/features">Features</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child ant-menu-item-selected" role="menuitem"><a class="nav-link" href="/docs">Documentation</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/guides">Guides</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.sitecore.com/getting-started/developer-trial">Trial</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/community">Community</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item get-started-button ant-menu-item-only-child" role="menuitem"><a class="btn btn-secondary btn-sm float-left text-white" href="/docs/getting-started/quick-start">Get Started</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></div></header><div class="main-wrapper"><section class="ant-layout border-bottom"><section class="jumbo-container jumbo-container-short bg-light"><div class="default"><div class="circleContainer"><div class="circleContainer-outer-top"><div class="circleContainer-inner"><div class="circleContainer-inner-primary"><div class="circ circ_right circle-fg-right-lg bg-success" id="defaultimage"><img src="/assets/img/transparent-1x1.png"/></div></div><div class="circleContainer-inner-secondary"><div class="circ circ_right circle-fg-right-lg-sub bg-primary"></div></div></div></div><div class="circleContainer-outer-bottom"><div class="circleContainer-inner"><div class="circleContainer-inner-primary"><div class="circle circle-fg-left-md bg-success"></div></div></div></div></div><div class="shapes-wrapper"><div class="outer-shape container"><div class="inner-shape row"><div class="content-wrapper col-12 col-md-9 min-height"><div class="content-wrapper-inner"><h1 class="title mb-3">Documentation</h1><p class="copy mb-0 p-0">Read and search through all the Sitecore JSS documentation</p></div></div></div></div></div></div></section></section><div class="ant-row ant-row-space-between" style="margin-left:-20px;margin-right:-20px;flex-wrap:nowrap;margin:30px"><div style="padding-left:20px;padding-right:20px;flex:0 0 300px" class="ant-col"><aside><div class="side-nav"><form class="bd-search d-flex align-items-center"><input type="search" class="form-control" id="search-input" placeholder="Search..." aria-label="Search for..." autoComplete="off"/><button class="btn btn-link bd-search-docs-toggle d-md-none p-0 ml-3" type="button" data-toggle="collapse" data-target="#bd-docs-nav" aria-controls="bd-docs-nav" aria-expanded="false" aria-label="Toggle docs navigation"></button></form><ul class="ant-menu ant-menu-light ant-menu-root ant-menu-inline" role="menu"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="getting-started$Menu" aria-haspopup="true" title="Getting Started">Getting Started<i class="ant-menu-submenu-arrow"></i></div><ul id="getting-started$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/quick-start">1. Quick Start</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/first-component">2. Your First Component</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/jss-server-install">3. JSS Server Setup</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/app-deployment">4. App Deployment</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" title="Fundamentals">Fundamentals<i class="ant-menu-submenu-arrow"></i></div><div></div></li><li class="ant-menu-submenu ant-menu-submenu-inline" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" title="Client Frameworks">Client Frameworks<i class="ant-menu-submenu-arrow"></i></div><div></div></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-selected" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" title="Techniques">Techniques<i class="ant-menu-submenu-arrow"></i></div><div></div></li></ul><div class="navbar-nav bd-navbar-nav flex-column"><a class="nav-link" href="/release-notes">Release Notes</a><a class="nav-link" href="/help">Help</a></div></div></aside></div><div style="padding-left:20px;padding-right:20px;flex:auto" class="ant-col"><main><div class="article markdown-section" match="[object Object]" location="[object Object]" history="[object Object]"><h1 id="sitecore-forms--jss">Sitecore Forms + JSS</h1>
<p>JSS provides the capability to consume and post <a href="https://doc.sitecore.com/users/91/sitecore-experience-platform/en/introducing-sitecore-forms.html">Sitecore Forms</a> from JSS apps. Sitecore Forms is a capable form-authoring framework that enables marketers to author their own forms, collect data, and analyze form performance.</p>
<p>Usage of Sitecore Forms in JSS works like this:</p>
<p><img src="/assets/img/jss-forms-sequence.svg" alt="forms service sequence diagram" /></p>
<h2 id="getting-started">Getting Started</h2>
<p>This document assumes you are familiar with JSS fundamentals and have a React-based JSS app that you have set up and deployed to Sitecore. It is not possible to use Sitecore Forms in disconnected mode.</p>
<h3 id="creating-a-sitecore-form">Creating a Sitecore Form</h3>
<p>To use a form in JSS, the form must be created in Sitecore. The <a href="https://doc.sitecore.com/users/91/sitecore-experience-platform/en/create-a-form.html">Sitecore Forms documentation</a> details how to create forms within Sitecore.</p>
<p>For the sake of simplicity, consider starting off with a simple form with a text box and submit button. It's helpful to set the <em>submit actions</em> on the submit button to <em>Save Data</em> and <em>Redirect to Page</em> - without Save Data the form data won't be stored, and without Redirect to Page the form will clear itself on submit but not provide other feedback. Note that in a JSS app, <em>Redirect to Page</em> can easily be accomplished with client-side routing - it need not be an actual reload of the page.</p>
<h3 id="creating-a-form-rendering-component-for-your-jss-app">Creating a Form Rendering component for your JSS App</h3>
<blockquote>
  <p>JSS comes with a <strong>React</strong> example of consuming the forms API. It is possible to consume the forms schema data with other frameworks as well, but example components are not provided.</p>
</blockquote>
<p>In order to add a form to the JSS app we need a component to render the form. A form rendering component is a normal JSS component, but since disconnected mode is not supported for forms we'll create it Sitecore-first.</p>
<ul>
<li>Create the component definitions in Sitecore using the JSS CLI: <code>jss deploy component Form --allowedPlaceholders jss-main</code><ul>
<li>Change the allowed placeholder to the placeholder name you want to allow the form to be added to.</li></ul></li>
<li>Enter the Sitecore Content Editor<ul>
<li>Navigate to the rendering item that was created (<code>/sitecore/layout/Renderings/Project/$yourappname/Form</code>)</li>
<li>Set the <code>Datasource location</code> field to <code>/sitecore/forms</code></li>
<li>Set the <code>Datasource template</code> field to <code>/sitecore/templates/System/Forms/Form</code></li>
<li>Set the <code>Rendering Contents Resolver</code> field to <code>Sitecore Forms Resolver</code>. This will cause JSS to deliver form data to the component instead of item data.</li></ul></li>
</ul>
<h3 id="add-the-form-rendering-to-an-app-route">Add the Form Rendering to an app route</h3>
<ul>
<li>Enter Experience Editor on the JSS route item you wish to add the form to</li>
<li>Insert the new <code>Form</code> component into the placeholder it is allowed in</li>
<li>Choose the Sitecore Form you created previously as the Associated Content</li>
<li>NOTE: you will see a warning that the component is missing its implementation. This is normal - we haven't yet defined what the form looks like.</li>
</ul>
<h3 id="install-npm-packages">Install NPM packages</h3>
<blockquote>
  <p>There are two npm packages for JSS + Forms</p>
  <ul>
  <li><code>sitecore-jss-react-forms</code> implements components to render forms in React</li>
  <li><code>sitecore-jss-forms</code> implements framework-agnostic helpers to deal with the forms API (serializing forms to post, antiforgery, etc)</li>
  </ul>
  <p>These packages ship with TypeScript typings and JSDoc comments so they are easily discoverable in typings-aware editors such as Code.</p>
</blockquote>
<p>To use the sample forms implementation, install the forms packages:</p>
<ul>
<li>run command <code>npm i @sitecore-jss/sitecore-jss-forms</code></li>
<li>run command <code>npm i @sitecore-jss/sitecore-jss-react-forms</code></li>
</ul>
<h3 id="implement-the-form-react-component">Implement the Form React component</h3>
<p>To make the form render as a form, we need to tell React how to render the Sitecore Forms schema.</p>
<ul>
<li>Create a new React component in <code>src/components/Form/index.js</code></li>
<li>Set the contents to:</li>
</ul>
<pre><code class="jsx language-jsx">import React from 'react';
import { SitecoreForm } from '@sitecore-jss/sitecore-jss-forms';

export default function Form(props) {
  /** @type {SitecoreForm} */
  const form = props.fields;

  // dump the form data out to the page
  return &lt;code&gt;{JSON.stringify(form, null, 2)}&lt;/code&gt;;
}
</code></pre>
<ul>
<li>Start the JSS app in connected mode with <code>jss start:connected</code></li>
<li>You should see the form data dumped to the page as JSON</li>
</ul>
<h3 id="use-the-sample-jss-forms-implementation">Use the sample JSS forms implementation</h3>
<p>Sitecore provides a sample implementation of rendering this form data into a usable React form for your reference and modification. The sample implementation provides a native React state-based implementation using controlled form components. It supports client and server side validation and multistep forms.</p>
<p>To use the example React forms implementation, modify your Form component to use the library's form components:</p>
<pre><code class="jsx language-jsx">import { Form } from '@sitecore-jss/sitecore-jss-react-forms';
import React from 'react';
import { withRouter } from 'react-router-dom';
import { sitecoreApiHost, sitecoreApiKey } from '../../temp/config';

const JssForm = ({ fields, history }) =&gt; (
  &lt;Form
    form={fields}
    sitecoreApiHost={sitecoreApiHost}
    sitecoreApiKey={sitecoreApiKey}
    onRedirect={(url) =&gt; history.push(url)}
  /&gt;
);

export default withRouter(JssForm);
</code></pre>
<blockquote>
  <p>In case if you are using <code>headless</code> mode, set <code>sitecoreApiHost={''}</code>, so requests will be sent directly to your node server,<br />
  if you send requests directly to sitecore instance you will get error (only in headless mode).</p>
</blockquote>
<h4 id="customizing-sample-forms-markup">Customizing sample forms markup</h4>
<p>When using the JSS sample forms implementation there are several options to customize the final markup of the form.</p>
<h5 id="altering-field-types">Altering Field Types</h5>
<p>If you'd like to customize how a specific type of field renders in your form, such as Checkbox or Single-Line Text, you can pass your own <em>field factory</em>.</p>
<p>Similar to JSS' <em>component factory</em>, the field factory maps a given Sitecore Forms field type into an implementing React component. The <em>default field factory</em> is used if no other is passed, and thus the default form field implementations will be used. Here's an example:</p>
<pre><code class="jsx language-jsx">// start from scratch (empty field factory)
import { FieldFactory } from '@sitecore-jss/sitecore-jss-react-forms';
const custom = new FieldFactory();

// or start from the default components (prefilled default implementations)
import { createDefaultFieldFactory } from '@sitecore-jss/sitecore-jss-react-forms';
const defaultFieldFactory = createDefaultFieldFactory();

// set a component implementation
import { FieldTypes } from '@sitecore-jss/sitecore-jss-react-forms';
defaultFieldFactory.setComponent(FieldTypes.RadioButtonList, (props) =&gt; (
  &lt;pre&gt;{JSON.stringify(props, null, 2)}&lt;/pre&gt;
));

// use the component factory with the form component
&lt;Form fieldFactory={defaultFieldFactory} {...otherProps} /&gt;
</code></pre>
<h5 id="add-a-wrapper-to-all-form-fields">Add a wrapper to all form fields</h5>
<p>It's possible to wrap all form fields in a custom component to create wrapping markup, for example to control vertical rhythm. The wrappers will contain both the label and value of the field.</p>
<pre><code class="jsx language-jsx">// Sample wraps all fields in a div and prints a span with the field name unless the field is a Text field type
const WrapperComponent = (props) =&gt; (
  &lt;div&gt;
    {props.field.model.fieldTypeItemId !== FieldTypes.TextField &amp;&amp; (
      &lt;span&gt;Field: {props.field.model.name}&lt;/span&gt;
    )}
    {props.children}
  &lt;/div&gt;
);

// Usage on form component
&lt;Form fieldWrapperComponent={WrapperComponent} {...otherProps} /&gt;
</code></pre>
<h5 id="customizing-labels">Customizing Labels</h5>
<p>You can customize the rendering of field labels. Note that if you are using custom field components (above), those components can ignore the custom label component if they choose to not use the <code>labelComponent</code> prop they receive.</p>
<blockquote>
  <p>The customized label is used only for the primary field label. Checkbox lists and radio button lists will not use this component for the individual labels wrapping each list element.</p>
</blockquote>
<pre><code class="jsx language-jsx">// sample renders labels in blue
import { LabelProps } from '@sitecore-jss/sitecore-jss-react-forms';

/**
 * @param {LabelProps} props
 */
const LabelComponent = (props) =&gt; (
  &lt;label
    className={props.field.model.cssClass}
    htmlFor={props.field.valueField.id}
    style={{ color: 'blue' }}
  &gt;
    {props.children}
    {props.field.model.title}
  &lt;/label&gt;
);

// Usage on form component
&lt;Form labelComponent={LabelComponent} {...otherProps} /&gt;
</code></pre>
<blockquote>
  <p>Some of the components can contain markup that nested into basic <code>&lt;Label /&gt;</code> component (for example <code>&lt;Checkbox /&gt;</code>). In this case you should add <code>props.children</code> into markup of <code>&lt;LabelComponent /&gt;</code>. So in <code>&lt;Checkbox /&gt;</code> check button will be placed before <code>props.field.model.title</code></p>
</blockquote>
<h5 id="customizing-error-handling">Customizing Error Handling</h5>
<p>You can customize the behaviour of the <em>form-wide</em> error message display, i.e. for submit errors or to summarize validation errors.</p>
<pre><code class="jsx language-jsx">// sample renders only form-level errors (field errors are ignored)
const ErrorComponent = (props) =&gt; (
  &lt;div&gt;
    {props.formErrors.map((e, index) =&gt; (
      &lt;div className="invalid" key={`formError-${index}`}&gt;
        {e}
      &lt;/div&gt;
    ))}
  &lt;/div&gt;
);

// Usage on form component
&lt;Form fieldWrapperComponent={WrapperComponent} {...otherProps} /&gt;
</code></pre>
<p>You can also customize the default <em>field-level</em> error message display for validation errors.</p>
<pre><code class="jsx language-jsx">// sample renders validation errors with inline style
import { LabelProps } from '@sitecore-jss/sitecore-jss-react-forms';

/**
 * @param {LabelProps} props
 */
const FieldErrorComponent = (props) =&gt; (
  &lt;div&gt;
    {props.errors.map((error, index) =&gt; (
      &lt;p style={{ color: 'red', fontWeight: 'bold' }} key={index}&gt;
        {error}
      &lt;/p&gt;
    ))}
  &lt;/div&gt;
);

// Usage on form component
&lt;Form fieldValidationErrorsComponent={FieldErrorComponent} {...otherProps} /&gt;
</code></pre>
<h4 id="customizing-form-fetcher">Customizing Form Fetcher</h4>
<p>You can customize the behaviour of the default FormFetcher. You can add custom error handler, in case if unhandled error was thrown.</p>
<pre><code class="js language-js">export const formFetcher = (formData, endpoint) =&gt; fetch(endpoint, {
  body: formData.toUrlEncodedFormData(),
  method: 'post',
  // IMPORTANT: Sitecore forms relies on cookies for some state management, so credentials must be included.
  credentials: 'include',
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded',
  }
})
  .then((res) =&gt; res.json())
  .catch(() =&gt; {
    return {
      success: false,
      errors: 'Something went wrong. Error was thrown when submit form'
    }
  })

// Usage on form component
&lt;Form formFetcher={formFetcher} {...otherProps} /&gt;
</code></pre>
<p>You can implement <em>formFetcher</em> using <code>multipart/form-data</code> Content-Type.</p>
<pre><code class="js language-js">export const formFetcher = (formData, endpoint) =&gt; fetch(endpoint, {
  body: formData.toMultipartFormData(),
  method: 'post',
  // IMPORTANT: Sitecore forms relies on cookies for some state management, so credentials must be included.
  credentials: 'include',
  // Browser set 'Content-Type' automatically with multipart/form-data; boundary
})
  .then((res) =&gt; res.json())
  .catch(() =&gt; {
    return {
      success: false,
      errors: 'Something went wrong. Error was thrown when submit form'
    }
  })
</code></pre>
<h3 id="limitations">Limitations</h3>
<p>There are some limitations to be aware of with JSS' Sitecore Forms support.</p>
<ul>
<li>Forms cannot be defined or rendered in disconnected (connected, integrated, headless are supported)</li>
<li>Conditional fields are not supported by the JSS forms example implementation; however conditional data is returned by the form API</li>
</ul>
</div><hr/><div>Found a problem? Have something to add? <a href="https://github.com/Sitecore/jss/edit/dev/docs/data/routes/docs/techniques/working-connected/en.md">Edit this on GitHub</a></div></main></div></div></div><footer class="ant-layout-footer"><div class="ant-row ant-row-center" style="margin-left:-16px;margin-right:-16px"><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/features">Features</a><nav class="nav flex-column"><a class="nav-link small text-white" href="/features/why-jss">Why JSS?</a><a class="nav-link small text-white" href="/features/why-sitecore">Why Sitecore?</a></nav></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/docs">Documentation</a><nav class="nav flex-column"><a class="nav-link small text-white" href="/docs/getting-started/quick-start">Getting Started</a><a class="nav-link small text-white" href="/docs/fundamentals/architecture">Fundamentals</a><a class="nav-link small text-white" href="/docs/client-frameworks/react/react-overview">Client Frameworks</a><a class="nav-link small text-white" href="/docs/techniques/mvc-integration/javascript-rendering">Techniques</a><a class="nav-link small text-white" href="/release-notes">Release Notes</a><a class="nav-link small text-white" href="/help">FAQs</a></nav></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a href="https://www.sitecore.com/getting-started/developer-trial" target="_blank" rel="noopener noreferrer" class="nav-link text-uppercase small text-white font-weight-bold">Start Trial</a></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/community">Community</a><nav class="nav flex-column"><a href="#" class="nav-link small text-white">Sitecore Community</a><a href="slack://channel?team=T09SHRBNU&amp;id=C7JT0NRQW" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" focusable="false"><title>Slack</title><path fill="currentColor" d="M210.787 234.832l68.31-22.883 22.1 65.977-68.309 22.882z"></path><path d="M490.54 185.6C437.7 9.59 361.6-31.34 185.6 21.46S-31.3 150.4 21.46 326.4 150.4 543.3 326.4 490.54 543.34 361.6 490.54 185.6zM401.7 299.8l-33.15 11.05 11.46 34.38c4.5 13.92-2.87 29.06-16.78 33.56-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18l-11.46-34.38-68.36 22.92 11.46 34.38c4.5 13.92-2.87 29.06-16.78 33.56-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18l-11.46-34.43-33.15 11.05c-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18c-4.5-13.92 2.87-29.06 16.78-33.56l33.12-11.03-22.1-65.9-33.15 11.05c-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18c-4.48-13.93 2.89-29.07 16.81-33.58l33.15-11.05-11.46-34.38c-4.5-13.92 2.87-29.06 16.78-33.56s29.06 2.87 33.56 16.78l11.46 34.38 68.36-22.92-11.46-34.38c-4.5-13.92 2.87-29.06 16.78-33.56s29.06 2.87 33.56 16.78l11.47 34.42 33.15-11.05c13.92-4.5 29.06 2.87 33.56 16.78s-2.87 29.06-16.78 33.56L329.7 194.6l22.1 65.9 33.15-11.05c13.92-4.5 29.06 2.87 33.56 16.78s-2.88 29.07-16.81 33.57z" fill="currentColor"></path></svg>JSS Slack</a><a href="https://sitecore.stackexchange.com/tags/jss" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120"><title>Sitecore StackExchange</title><path fill="currentColor" d="M22.4 57.5h74.8v15.4H22.4z"></path><path fill="currentColor" d="M22.4 37.6h74.8V53H22.4z"></path><path fill="currentColor" d="M85.5 17H34.4c-6.6 0-12 5.5-12 12.3v4h74.8v-4C97.2 22.5 92 17 85.5 17z"></path><path fill="currentColor" d="M22.4 77.3v4c0 6.8 5.4 12.3 12 12.3h32v16.3l15.8-16.3h3.5c6.6 0 12-5.5 12-12.3v-4H22.4z"></path></svg>Stack Exchange</a><a href="https://github.com/sitecore/jss" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z" fill="currentColor" fill-rule="evenodd"></path></svg>Github</a></nav></div></div><div class="ant-row ant-row-center" style="margin:30px"><div class="ant-col footer-copyright small">© Copyright <!-- -->2020<!-- -->, Sitecore. All Rights Reserved.</div><div class="ant-col footer-copyright small"><a href="https://www.sitecore.com/trust" class="pl-2 pr-2" target="_blank" rel="noopener noreferrer">Legal</a><a href="https://www.sitecore.com/trust/privacy-policy" class="pl-2" target="_blank" rel="noopener noreferrer">Privacy</a></div></div></footer></section></div><script>window.__data={"sitecore":{"context":{"pageEditing":false,"site":{"name":"JssDisconnectedLayoutService"},"pageState":"normal","language":"en"},"route":{"databaseName":"available-in-connected-mode","deviceId":"available-in-connected-mode","itemId":"available-in-connected-mode","itemLanguage":"en","itemVersion":1,"layoutId":"available-in-connected-mode","templateId":"available-in-connected-mode","templateName":"Docs Route","name":"forms","fields":{"title":{"value":"Forms + JSS"},"editLink":{"value":{"text":"Edit this on GitHub","href":"https://github.com/Sitecore/jss/edit/dev/docs/data/routes/docs/techniques/forms/en.md"}}},"placeholders":{"jssdocs-header":[{"uid":"{C0BEE201-106C-5BDF-84FC-0A4CB357142E}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"start","padding":"30px"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{7C1AF391-7778-5983-A065-EFD5D04E8797}","componentName":"Logo","dataSource":"available-in-connected-mode","params":{"flex":"300px"},"fields":{}},{"uid":"{A33AD264-2831-526B-9F5D-9C1F74F34341}","componentName":"MainNav","dataSource":"available-in-connected-mode","params":{"flex":"auto"},"fields":{"selectedMenuItem":{"value":"docs"}}}]}}],"jssdocs-main":[{"uid":"{A6F53DF4-49C5-5EF6-B928-38822BB40FA0}","componentName":"ArticleContainer","dataSource":"available-in-connected-mode","params":{},"fields":{},"placeholders":{"jssdocs-jumbo":[{"uid":"{A98B14E2-9EBB-55C7-8A6A-FBB34ACC6611}","componentName":"FeatureJumboShort","dataSource":"available-in-connected-mode","params":{},"fields":{"image":{"value":{"src":"/assets/img/transparent-1x1.png"}},"imageclass":{"value":"defaultimage"},"csscolorclass":{"value":"default"},"title":{"value":"Documentation"},"text":{"value":"Read and search through all the Sitecore JSS documentation"}}}],"jssdocs-aside":[{"uid":"{F1544FCD-B6A2-5105-B5D8-0E46507952E5}","componentName":"SideNav","dataSource":"available-in-connected-mode","params":{},"fields":{"navType":{"value":"docs"},"useSearch":{"value":"true"}}}],"jssdocs-content":[{"uid":"{A6D92A38-9E1D-5251-9515-75A2B95AD5C4}","componentName":"Article","dataSource":"available-in-connected-mode","params":{},"fields":{"text":{"value":"<h1 id=\"sitecore-forms--jss\">Sitecore Forms + JSS</h1>\n<p>JSS provides the capability to consume and post <a href=\"https://doc.sitecore.com/users/91/sitecore-experience-platform/en/introducing-sitecore-forms.html\">Sitecore Forms</a> from JSS apps. Sitecore Forms is a capable form-authoring framework that enables marketers to author their own forms, collect data, and analyze form performance.</p>\n<p>Usage of Sitecore Forms in JSS works like this:</p>\n<p><img src=\"/assets/img/jss-forms-sequence.svg\" alt=\"forms service sequence diagram\" /></p>\n<h2 id=\"getting-started\">Getting Started</h2>\n<p>This document assumes you are familiar with JSS fundamentals and have a React-based JSS app that you have set up and deployed to Sitecore. It is not possible to use Sitecore Forms in disconnected mode.</p>\n<h3 id=\"creating-a-sitecore-form\">Creating a Sitecore Form</h3>\n<p>To use a form in JSS, the form must be created in Sitecore. The <a href=\"https://doc.sitecore.com/users/91/sitecore-experience-platform/en/create-a-form.html\">Sitecore Forms documentation</a> details how to create forms within Sitecore.</p>\n<p>For the sake of simplicity, consider starting off with a simple form with a text box and submit button. It's helpful to set the <em>submit actions</em> on the submit button to <em>Save Data</em> and <em>Redirect to Page</em> - without Save Data the form data won't be stored, and without Redirect to Page the form will clear itself on submit but not provide other feedback. Note that in a JSS app, <em>Redirect to Page</em> can easily be accomplished with client-side routing - it need not be an actual reload of the page.</p>\n<h3 id=\"creating-a-form-rendering-component-for-your-jss-app\">Creating a Form Rendering component for your JSS App</h3>\n<blockquote>\n  <p>JSS comes with a <strong>React</strong> example of consuming the forms API. It is possible to consume the forms schema data with other frameworks as well, but example components are not provided.</p>\n</blockquote>\n<p>In order to add a form to the JSS app we need a component to render the form. A form rendering component is a normal JSS component, but since disconnected mode is not supported for forms we'll create it Sitecore-first.</p>\n<ul>\n<li>Create the component definitions in Sitecore using the JSS CLI: <code>jss deploy component Form --allowedPlaceholders jss-main</code><ul>\n<li>Change the allowed placeholder to the placeholder name you want to allow the form to be added to.</li></ul></li>\n<li>Enter the Sitecore Content Editor<ul>\n<li>Navigate to the rendering item that was created (<code>/sitecore/layout/Renderings/Project/$yourappname/Form</code>)</li>\n<li>Set the <code>Datasource location</code> field to <code>/sitecore/forms</code></li>\n<li>Set the <code>Datasource template</code> field to <code>/sitecore/templates/System/Forms/Form</code></li>\n<li>Set the <code>Rendering Contents Resolver</code> field to <code>Sitecore Forms Resolver</code>. This will cause JSS to deliver form data to the component instead of item data.</li></ul></li>\n</ul>\n<h3 id=\"add-the-form-rendering-to-an-app-route\">Add the Form Rendering to an app route</h3>\n<ul>\n<li>Enter Experience Editor on the JSS route item you wish to add the form to</li>\n<li>Insert the new <code>Form</code> component into the placeholder it is allowed in</li>\n<li>Choose the Sitecore Form you created previously as the Associated Content</li>\n<li>NOTE: you will see a warning that the component is missing its implementation. This is normal - we haven't yet defined what the form looks like.</li>\n</ul>\n<h3 id=\"install-npm-packages\">Install NPM packages</h3>\n<blockquote>\n  <p>There are two npm packages for JSS + Forms</p>\n  <ul>\n  <li><code>sitecore-jss-react-forms</code> implements components to render forms in React</li>\n  <li><code>sitecore-jss-forms</code> implements framework-agnostic helpers to deal with the forms API (serializing forms to post, antiforgery, etc)</li>\n  </ul>\n  <p>These packages ship with TypeScript typings and JSDoc comments so they are easily discoverable in typings-aware editors such as Code.</p>\n</blockquote>\n<p>To use the sample forms implementation, install the forms packages:</p>\n<ul>\n<li>run command <code>npm i @sitecore-jss/sitecore-jss-forms</code></li>\n<li>run command <code>npm i @sitecore-jss/sitecore-jss-react-forms</code></li>\n</ul>\n<h3 id=\"implement-the-form-react-component\">Implement the Form React component</h3>\n<p>To make the form render as a form, we need to tell React how to render the Sitecore Forms schema.</p>\n<ul>\n<li>Create a new React component in <code>src/components/Form/index.js</code></li>\n<li>Set the contents to:</li>\n</ul>\n<pre><code class=\"jsx language-jsx\">import React from 'react';\nimport { SitecoreForm } from '@sitecore-jss/sitecore-jss-forms';\n\nexport default function Form(props) {\n  /** @type {SitecoreForm} */\n  const form = props.fields;\n\n  // dump the form data out to the page\n  return &lt;code&gt;{JSON.stringify(form, null, 2)}&lt;/code&gt;;\n}\n</code></pre>\n<ul>\n<li>Start the JSS app in connected mode with <code>jss start:connected</code></li>\n<li>You should see the form data dumped to the page as JSON</li>\n</ul>\n<h3 id=\"use-the-sample-jss-forms-implementation\">Use the sample JSS forms implementation</h3>\n<p>Sitecore provides a sample implementation of rendering this form data into a usable React form for your reference and modification. The sample implementation provides a native React state-based implementation using controlled form components. It supports client and server side validation and multistep forms.</p>\n<p>To use the example React forms implementation, modify your Form component to use the library's form components:</p>\n<pre><code class=\"jsx language-jsx\">import { Form } from '@sitecore-jss/sitecore-jss-react-forms';\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { sitecoreApiHost, sitecoreApiKey } from '../../temp/config';\n\nconst JssForm = ({ fields, history }) =&gt; (\n  &lt;Form\n    form={fields}\n    sitecoreApiHost={sitecoreApiHost}\n    sitecoreApiKey={sitecoreApiKey}\n    onRedirect={(url) =&gt; history.push(url)}\n  /&gt;\n);\n\nexport default withRouter(JssForm);\n</code></pre>\n<blockquote>\n  <p>In case if you are using <code>headless</code> mode, set <code>sitecoreApiHost={''}</code>, so requests will be sent directly to your node server,<br />\n  if you send requests directly to sitecore instance you will get error (only in headless mode).</p>\n</blockquote>\n<h4 id=\"customizing-sample-forms-markup\">Customizing sample forms markup</h4>\n<p>When using the JSS sample forms implementation there are several options to customize the final markup of the form.</p>\n<h5 id=\"altering-field-types\">Altering Field Types</h5>\n<p>If you'd like to customize how a specific type of field renders in your form, such as Checkbox or Single-Line Text, you can pass your own <em>field factory</em>.</p>\n<p>Similar to JSS' <em>component factory</em>, the field factory maps a given Sitecore Forms field type into an implementing React component. The <em>default field factory</em> is used if no other is passed, and thus the default form field implementations will be used. Here's an example:</p>\n<pre><code class=\"jsx language-jsx\">// start from scratch (empty field factory)\nimport { FieldFactory } from '@sitecore-jss/sitecore-jss-react-forms';\nconst custom = new FieldFactory();\n\n// or start from the default components (prefilled default implementations)\nimport { createDefaultFieldFactory } from '@sitecore-jss/sitecore-jss-react-forms';\nconst defaultFieldFactory = createDefaultFieldFactory();\n\n// set a component implementation\nimport { FieldTypes } from '@sitecore-jss/sitecore-jss-react-forms';\ndefaultFieldFactory.setComponent(FieldTypes.RadioButtonList, (props) =&gt; (\n  &lt;pre&gt;{JSON.stringify(props, null, 2)}&lt;/pre&gt;\n));\n\n// use the component factory with the form component\n&lt;Form fieldFactory={defaultFieldFactory} {...otherProps} /&gt;\n</code></pre>\n<h5 id=\"add-a-wrapper-to-all-form-fields\">Add a wrapper to all form fields</h5>\n<p>It's possible to wrap all form fields in a custom component to create wrapping markup, for example to control vertical rhythm. The wrappers will contain both the label and value of the field.</p>\n<pre><code class=\"jsx language-jsx\">// Sample wraps all fields in a div and prints a span with the field name unless the field is a Text field type\nconst WrapperComponent = (props) =&gt; (\n  &lt;div&gt;\n    {props.field.model.fieldTypeItemId !== FieldTypes.TextField &amp;&amp; (\n      &lt;span&gt;Field: {props.field.model.name}&lt;/span&gt;\n    )}\n    {props.children}\n  &lt;/div&gt;\n);\n\n// Usage on form component\n&lt;Form fieldWrapperComponent={WrapperComponent} {...otherProps} /&gt;\n</code></pre>\n<h5 id=\"customizing-labels\">Customizing Labels</h5>\n<p>You can customize the rendering of field labels. Note that if you are using custom field components (above), those components can ignore the custom label component if they choose to not use the <code>labelComponent</code> prop they receive.</p>\n<blockquote>\n  <p>The customized label is used only for the primary field label. Checkbox lists and radio button lists will not use this component for the individual labels wrapping each list element.</p>\n</blockquote>\n<pre><code class=\"jsx language-jsx\">// sample renders labels in blue\nimport { LabelProps } from '@sitecore-jss/sitecore-jss-react-forms';\n\n/**\n * @param {LabelProps} props\n */\nconst LabelComponent = (props) =&gt; (\n  &lt;label\n    className={props.field.model.cssClass}\n    htmlFor={props.field.valueField.id}\n    style={{ color: 'blue' }}\n  &gt;\n    {props.children}\n    {props.field.model.title}\n  &lt;/label&gt;\n);\n\n// Usage on form component\n&lt;Form labelComponent={LabelComponent} {...otherProps} /&gt;\n</code></pre>\n<blockquote>\n  <p>Some of the components can contain markup that nested into basic <code>&lt;Label /&gt;</code> component (for example <code>&lt;Checkbox /&gt;</code>). In this case you should add <code>props.children</code> into markup of <code>&lt;LabelComponent /&gt;</code>. So in <code>&lt;Checkbox /&gt;</code> check button will be placed before <code>props.field.model.title</code></p>\n</blockquote>\n<h5 id=\"customizing-error-handling\">Customizing Error Handling</h5>\n<p>You can customize the behaviour of the <em>form-wide</em> error message display, i.e. for submit errors or to summarize validation errors.</p>\n<pre><code class=\"jsx language-jsx\">// sample renders only form-level errors (field errors are ignored)\nconst ErrorComponent = (props) =&gt; (\n  &lt;div&gt;\n    {props.formErrors.map((e, index) =&gt; (\n      &lt;div className=\"invalid\" key={`formError-${index}`}&gt;\n        {e}\n      &lt;/div&gt;\n    ))}\n  &lt;/div&gt;\n);\n\n// Usage on form component\n&lt;Form fieldWrapperComponent={WrapperComponent} {...otherProps} /&gt;\n</code></pre>\n<p>You can also customize the default <em>field-level</em> error message display for validation errors.</p>\n<pre><code class=\"jsx language-jsx\">// sample renders validation errors with inline style\nimport { LabelProps } from '@sitecore-jss/sitecore-jss-react-forms';\n\n/**\n * @param {LabelProps} props\n */\nconst FieldErrorComponent = (props) =&gt; (\n  &lt;div&gt;\n    {props.errors.map((error, index) =&gt; (\n      &lt;p style={{ color: 'red', fontWeight: 'bold' }} key={index}&gt;\n        {error}\n      &lt;/p&gt;\n    ))}\n  &lt;/div&gt;\n);\n\n// Usage on form component\n&lt;Form fieldValidationErrorsComponent={FieldErrorComponent} {...otherProps} /&gt;\n</code></pre>\n<h4 id=\"customizing-form-fetcher\">Customizing Form Fetcher</h4>\n<p>You can customize the behaviour of the default FormFetcher. You can add custom error handler, in case if unhandled error was thrown.</p>\n<pre><code class=\"js language-js\">export const formFetcher = (formData, endpoint) =&gt; fetch(endpoint, {\n  body: formData.toUrlEncodedFormData(),\n  method: 'post',\n  // IMPORTANT: Sitecore forms relies on cookies for some state management, so credentials must be included.\n  credentials: 'include',\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded',\n  }\n})\n  .then((res) =&gt; res.json())\n  .catch(() =&gt; {\n    return {\n      success: false,\n      errors: 'Something went wrong. Error was thrown when submit form'\n    }\n  })\n\n// Usage on form component\n&lt;Form formFetcher={formFetcher} {...otherProps} /&gt;\n</code></pre>\n<p>You can implement <em>formFetcher</em> using <code>multipart/form-data</code> Content-Type.</p>\n<pre><code class=\"js language-js\">export const formFetcher = (formData, endpoint) =&gt; fetch(endpoint, {\n  body: formData.toMultipartFormData(),\n  method: 'post',\n  // IMPORTANT: Sitecore forms relies on cookies for some state management, so credentials must be included.\n  credentials: 'include',\n  // Browser set 'Content-Type' automatically with multipart/form-data; boundary\n})\n  .then((res) =&gt; res.json())\n  .catch(() =&gt; {\n    return {\n      success: false,\n      errors: 'Something went wrong. Error was thrown when submit form'\n    }\n  })\n</code></pre>\n<h3 id=\"limitations\">Limitations</h3>\n<p>There are some limitations to be aware of with JSS' Sitecore Forms support.</p>\n<ul>\n<li>Forms cannot be defined or rendered in disconnected (connected, integrated, headless are supported)</li>\n<li>Conditional fields are not supported by the JSS forms example implementation; however conditional data is returned by the form API</li>\n</ul>\n"}}}]}}],"jssdocs-footer":[{"uid":"{72A3A1AB-5BE7-5CEB-AD05-DAD222700434}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"center","compactGutter":"24","fullSizeGutter":"32"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{9BF2F7CC-58FF-5C43-932F-99EA6A927BDD}","componentName":"FooterNav","dataSource":"available-in-connected-mode","params":{},"fields":{}}]}},{"uid":"{D22DDBA7-6B62-5E50-90BB-34CB76A7C8C3}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"center","margin":"30px"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{DADBD7C6-D958-5360-8119-1CA6BEAF35D4}","componentName":"Disclaimers","dataSource":"available-in-connected-mode","params":{},"fields":{}}]}}]}}},"viewBag":{}};</script><script src="/dist/vendor-client.bundle.js"></script><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script src="/dist/client.bundle.js"></script></body></html>