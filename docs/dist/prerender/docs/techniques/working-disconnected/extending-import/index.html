<!DOCTYPE html>
<html lang="en" data-reactroot=""><head><link rel="stylesheet" href="/dist/server.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/dist/client.css"/><link rel="icon" type="image/png" href="/assets/img/favicon-32x32.png"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Sitecore JavaScript Services Documentation"/><title data-react-helmet="true">Manifest API Reference | Sitecore JSS Documentation</title></head><body><div id="app"><section class="ant-layout" id="app-wrap"><header class="ant-layout-header"><div class="ant-row ant-row-start" style="padding:30px"><a style="flex:300px" href="/"><img src="/assets/img/sitecore-logo.svg" height="53px" alt="Sitecore JSS" class="logo"/></a><ul flex="auto" style="border-bottom:none" class="ant-menu ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/features">Features</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child ant-menu-item-selected" role="menuitem"><a class="nav-link" href="/docs">Documentation</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/guides">Guides</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.sitecore.com/getting-started/developer-trial">Trial</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/community">Community</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item get-started-button ant-menu-item-only-child" role="menuitem"><a class="btn btn-secondary btn-sm float-left text-white" href="/docs/getting-started/quick-start">Get Started</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></div></header><div class="main-wrapper"><section class="ant-layout border-bottom"><section class="jumbo-container jumbo-container-short bg-light"><div class="default"><div class="circleContainer"><div class="circleContainer-outer-top"><div class="circleContainer-inner"><div class="circleContainer-inner-primary"><div class="circ circ_right circle-fg-right-lg bg-success" id="defaultimage"><img src="/assets/img/transparent-1x1.png"/></div></div><div class="circleContainer-inner-secondary"><div class="circ circ_right circle-fg-right-lg-sub bg-primary"></div></div></div></div><div class="circleContainer-outer-bottom"><div class="circleContainer-inner"><div class="circleContainer-inner-primary"><div class="circle circle-fg-left-md bg-success"></div></div></div></div></div><div class="shapes-wrapper"><div class="outer-shape container"><div class="inner-shape row"><div class="content-wrapper col-12 col-md-9 min-height"><div class="content-wrapper-inner"><h1 class="title mb-3">Documentation</h1><p class="copy mb-0 p-0">Read and search through all the Sitecore JSS documentation</p></div></div></div></div></div></div></section></section><div class="ant-row ant-row-space-between" style="margin-left:-20px;margin-right:-20px;flex-wrap:nowrap;margin:30px"><div style="padding-left:20px;padding-right:20px;flex:0 0 300px" class="ant-col"><aside><div class="side-nav"><form class="bd-search d-flex align-items-center"><input type="search" class="form-control" id="search-input" placeholder="Search..." aria-label="Search for..." autoComplete="off"/><button class="btn btn-link bd-search-docs-toggle d-md-none p-0 ml-3" type="button" data-toggle="collapse" data-target="#bd-docs-nav" aria-controls="bd-docs-nav" aria-expanded="false" aria-label="Toggle docs navigation"></button></form><ul class="ant-menu ant-menu-light ant-menu-root ant-menu-inline" role="menu"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="getting-started$Menu" aria-haspopup="true" title="Getting Started">Getting Started<i class="ant-menu-submenu-arrow"></i></div><ul id="getting-started$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/quick-start">1. Quick Start</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/first-component">2. Your First Component</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/jss-server-install">3. JSS Server Setup</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/app-deployment">4. App Deployment</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" title="Fundamentals">Fundamentals<i class="ant-menu-submenu-arrow"></i></div><div></div></li><li class="ant-menu-submenu ant-menu-submenu-inline" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" title="Client Frameworks">Client Frameworks<i class="ant-menu-submenu-arrow"></i></div><div></div></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-selected" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" title="Techniques">Techniques<i class="ant-menu-submenu-arrow"></i></div><div></div></li></ul><div class="navbar-nav bd-navbar-nav flex-column"><a class="nav-link" href="/release-notes">Release Notes</a><a class="nav-link" href="/help">Help</a></div></div></aside></div><div style="padding-left:20px;padding-right:20px;flex:auto" class="ant-col"><main><div class="article markdown-section" match="[object Object]" location="[object Object]" history="[object Object]"><h1 id="extending-the-import-pipeline">Extending the Import Pipeline</h1>
<p>The <a href="/docs/techniques/working-disconnected/import-process">import pipeline</a> for the code-first workflow can be extended in powerful ways. This is an example of extending the import process to allow customizing the path of templates you create.</p>
<h2 id="step-1-extend-your-manifest-data">Step 1: Extend your manifest data</h2>
<p>The <a href="../manifest-generation">manifest</a> is the format that item data takes on its way to being imported. First, we need to add the path data to the manifest. This is actually awfully easy - just add a new JS property:</p>
<pre><code class="javascript language-javascript">export default manifest =&gt; {
  manifest.addComponent({
    name: "Welcome",
    // we added this property to our welcome component
    path: "/sitecore/templates/Welcome",
    fields: [
      { name: "title", type: manifest.fieldTypes.singleLineText },
    ]
  });
};
</code></pre>
<p>Once added to the manifest declaration, the property is added to the manifest JSON file created when you run <code>jss manifest</code>. This is normally <code>sitecore/manifest/sitecore-import.json</code>.</p>
<p>When <code>jss deploy items</code> is run, this manifest is bundled up into a JSS manifest package file and uploaded into Sitecore where the <a href="/docs/techniques/working-disconnected/import-process">import pipeline</a> takes over and installs the items.</p>
<h2 id="step-2-modify-the-import-pipeline-to-do-something-with-your-data">Step 2: Modify the import pipeline to do something with your data</h2>
<p>To make our custom path work, we need to extend the import pipeline to alter how templates are created by the import process. Specifically we need to target the <code>ProcessTemplates</code> processor in the <code>import</code> pipeline, derive from it, and alter its behaviour. Here's the code to do just that:</p>
<pre><code class="c# language-c#">using System;
using Sitecore.Data.Items;
using Sitecore.Diagnostics;
using Sitecore.JavaScriptServices.AppServices.Data;
using Sitecore.JavaScriptServices.AppServices.Extensions;
using Sitecore.JavaScriptServices.AppServices.Models;
using Sitecore.JavaScriptServices.Configuration;

namespace Sitecore.JavaScriptServices.AppServices.Pipelines.Import
{
    public class ProcessTemplatesWithPath : ProcessTemplates
    {
        protected override TemplateItem CreateTemplate(TemplateDef templateDef, Item parent, Item multilistRoot, AppConfiguration app, IdManager idManager)
        {
            // the AdditionalData property is a dictionary of any JSON properties that were _not_ mapped to a TemplateDef property
            // so our path property - and any other custom properties that are added - will show up here. It will be null if no unmapped
            // properties exist so make sure to check everything for nulls with ?
            //
            // All import pipeline model objects have an AdditionalData property like this.
            var path = templateDef.AdditionalData?["path"]?.ToString();

            // path not set, use default behavior
            if (path == null) return base.CreateTemplate(templateDef, parent, multilistRoot, app, idManager);

            // resolve the custom path's parent (to keep things simple, we're not creating any parent hierarchy)
            var parentItemPath = path.Substring(0, path.LastIndexOf("/"));
            var customParentItem = parent.Database.GetItem(parentItemPath, parent.Language);

            if (customParentItem == null) throw new InvalidOperationException($"Parent item for custom import path item {templateDef.Name} ({path}) did not exist.");

            var templateName = ItemUtil.ProposeValidItemName(templateDef.Name);

            // JSS imports use _consistent IDs_ so that imports across instances use the same Sitecore item GUIDs
            // This code generates the consistent ID and ensures that it is unique.
            var templateId = idManager.GetTemplateId(app.Name, templateDef);
            idManager.AssertIdIsUnused(templateId, $"template {templateDef.Name}");

            // ensure we have permissions to create the item
            if (!customParentItem.CanImportChild(templateName, templateId, out var templateItem))
            {
                return null;
            }

            if (templateItem == null)
            {
                Log.Info($"[JSS] - Creating template - {templateName} (Custom path: {path})", this);
                templateItem = parent.Database.Templates.CreateTemplate(templateName, customParentItem);

                // make the db see our new template
                parent.Database.Engines.TemplateEngine.Reset();
            }
            else
            {
                Log.Debug($"[JSS] - Found existing template - {templateName}", this);
            }

            // sets the requisite fields on the template item
            UpdateTemplateItem(templateItem, templateDef, parent, multilistRoot, app, idManager, templateItem.DisplayName);

            return templateItem;
        }
    }
}
</code></pre>
<h2 id="step-3-insert-our-custom-pipeline-processor-with-a-config-patch-file">Step 3: Insert our custom pipeline processor with a config patch file</h2>
<p>Copy the following to <code>App_Config/Include/PickAnyFileName.config</code>. This will cause Sitecore to replace the default <code>ProcessTemplates</code> processor with our custom extended processor:</p>
<pre><code class="xml language-xml">&lt;configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:set="http://www.sitecore.net/xmlconfig/set/" xmlns:role="http://www.sitecore.net/xmlconfig/role/"&gt;
  &lt;sitecore role:require="ContentManagement or Standalone"&gt;
    &lt;pipelines&gt;
      &lt;group groupName="javaScriptServices"&gt;
        &lt;pipelines&gt;
          &lt;import&gt;
            &lt;processor 
              type="Sitecore.JavaScriptServices.AppServices.Pipelines.Import.ProcessTemplatesWithPath, Sitecore.JavaScriptServices.AppServices"
              patch:instead="*[contains(@type, 'ProcessTemplates')]" /&gt;
          &lt;/import&gt;
        &lt;/pipelines&gt;
      &lt;/group&gt;
    &lt;/pipelines&gt;
  &lt;/sitecore&gt;
&lt;/configuration&gt;
</code></pre>
<h2 id="step-4-deploy-your-jss-app">Step 4: Deploy your JSS app</h2>
<p>Deploy your jss app with <code>jss deploy items</code> (if the app has never been deployed before, use <code>jss deploy app -c</code>). In the deployment log, you should see your custom template get deployed:</p>
<pre><code>[JSS] - Creating template - Welcome (Custom path: /sitecore/templates/Welcome)
</code></pre>
<h2 id="step-5-review">Step 5: Review</h2>
<p>The template should be deployed at the path you requested in Sitecore. Note: If you've previously deployed your JSS app and have an existing template item in the default location, ensure that you remove it and change any usages of it to the new template.</p>
</div><hr/><div>Found a problem? Have something to add? <a href="https://github.com/Sitecore/jss/edit/dev/docs/data/routes/docs/techniques/working-disconnected/manifest-api/en.md">Edit this on GitHub</a></div></main></div></div></div><footer class="ant-layout-footer"><div class="ant-row ant-row-center" style="margin-left:-16px;margin-right:-16px"><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/features">Features</a><nav class="nav flex-column"><a class="nav-link small text-white" href="/features/why-jss">Why JSS?</a><a class="nav-link small text-white" href="/features/why-sitecore">Why Sitecore?</a></nav></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/docs">Documentation</a><nav class="nav flex-column"><a class="nav-link small text-white" href="/docs/getting-started/quick-start">Getting Started</a><a class="nav-link small text-white" href="/docs/fundamentals/architecture">Fundamentals</a><a class="nav-link small text-white" href="/docs/client-frameworks/react/react-overview">Client Frameworks</a><a class="nav-link small text-white" href="/docs/techniques/mvc-integration/javascript-rendering">Techniques</a><a class="nav-link small text-white" href="/release-notes">Release Notes</a><a class="nav-link small text-white" href="/help">FAQs</a></nav></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a href="https://www.sitecore.com/getting-started/developer-trial" target="_blank" rel="noopener noreferrer" class="nav-link text-uppercase small text-white font-weight-bold">Start Trial</a></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/community">Community</a><nav class="nav flex-column"><a href="#" class="nav-link small text-white">Sitecore Community</a><a href="slack://channel?team=T09SHRBNU&amp;id=C7JT0NRQW" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" focusable="false"><title>Slack</title><path fill="currentColor" d="M210.787 234.832l68.31-22.883 22.1 65.977-68.309 22.882z"></path><path d="M490.54 185.6C437.7 9.59 361.6-31.34 185.6 21.46S-31.3 150.4 21.46 326.4 150.4 543.3 326.4 490.54 543.34 361.6 490.54 185.6zM401.7 299.8l-33.15 11.05 11.46 34.38c4.5 13.92-2.87 29.06-16.78 33.56-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18l-11.46-34.38-68.36 22.92 11.46 34.38c4.5 13.92-2.87 29.06-16.78 33.56-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18l-11.46-34.43-33.15 11.05c-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18c-4.5-13.92 2.87-29.06 16.78-33.56l33.12-11.03-22.1-65.9-33.15 11.05c-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18c-4.48-13.93 2.89-29.07 16.81-33.58l33.15-11.05-11.46-34.38c-4.5-13.92 2.87-29.06 16.78-33.56s29.06 2.87 33.56 16.78l11.46 34.38 68.36-22.92-11.46-34.38c-4.5-13.92 2.87-29.06 16.78-33.56s29.06 2.87 33.56 16.78l11.47 34.42 33.15-11.05c13.92-4.5 29.06 2.87 33.56 16.78s-2.87 29.06-16.78 33.56L329.7 194.6l22.1 65.9 33.15-11.05c13.92-4.5 29.06 2.87 33.56 16.78s-2.88 29.07-16.81 33.57z" fill="currentColor"></path></svg>JSS Slack</a><a href="https://sitecore.stackexchange.com/tags/jss" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120"><title>Sitecore StackExchange</title><path fill="currentColor" d="M22.4 57.5h74.8v15.4H22.4z"></path><path fill="currentColor" d="M22.4 37.6h74.8V53H22.4z"></path><path fill="currentColor" d="M85.5 17H34.4c-6.6 0-12 5.5-12 12.3v4h74.8v-4C97.2 22.5 92 17 85.5 17z"></path><path fill="currentColor" d="M22.4 77.3v4c0 6.8 5.4 12.3 12 12.3h32v16.3l15.8-16.3h3.5c6.6 0 12-5.5 12-12.3v-4H22.4z"></path></svg>Stack Exchange</a><a href="https://github.com/sitecore/jss" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z" fill="currentColor" fill-rule="evenodd"></path></svg>Github</a></nav></div></div><div class="ant-row ant-row-center" style="margin:30px"><div class="ant-col footer-copyright small">© Copyright <!-- -->2020<!-- -->, Sitecore. All Rights Reserved.</div><div class="ant-col footer-copyright small"><a href="https://www.sitecore.com/trust" class="pl-2 pr-2" target="_blank" rel="noopener noreferrer">Legal</a><a href="https://www.sitecore.com/trust/privacy-policy" class="pl-2" target="_blank" rel="noopener noreferrer">Privacy</a></div></div></footer></section></div><script>window.__data={"sitecore":{"context":{"pageEditing":false,"site":{"name":"JssDisconnectedLayoutService"},"pageState":"normal","language":"en"},"route":{"databaseName":"available-in-connected-mode","deviceId":"available-in-connected-mode","itemId":"available-in-connected-mode","itemLanguage":"en","itemVersion":1,"layoutId":"available-in-connected-mode","templateId":"available-in-connected-mode","templateName":"Docs Route","name":"extending-import","fields":{"title":{"value":"Extending the Import Pipeline"},"editLink":{"value":{"text":"Edit this on GitHub","href":"https://github.com/Sitecore/jss/edit/dev/docs/data/routes/docs/techniques/working-disconnected/extending-import/en.md"}}},"placeholders":{"jssdocs-header":[{"uid":"{0885149F-9949-5F41-8C05-3149126643D6}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"start","padding":"30px"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{4E42FE1A-1260-5BC3-9239-BF1050A130D3}","componentName":"Logo","dataSource":"available-in-connected-mode","params":{"flex":"300px"},"fields":{}},{"uid":"{B206D49C-1707-508F-A07C-949105C7B608}","componentName":"MainNav","dataSource":"available-in-connected-mode","params":{"flex":"auto"},"fields":{"selectedMenuItem":{"value":"docs"}}}]}}],"jssdocs-main":[{"uid":"{66A34482-D27A-53EB-A86F-0C8D0B6C3A3C}","componentName":"ArticleContainer","dataSource":"available-in-connected-mode","params":{},"fields":{},"placeholders":{"jssdocs-jumbo":[{"uid":"{8CFC4288-5B48-5DDF-9097-4268D13A4DDC}","componentName":"FeatureJumboShort","dataSource":"available-in-connected-mode","params":{},"fields":{"image":{"value":{"src":"/assets/img/transparent-1x1.png"}},"imageclass":{"value":"defaultimage"},"csscolorclass":{"value":"default"},"title":{"value":"Documentation"},"text":{"value":"Read and search through all the Sitecore JSS documentation"}}}],"jssdocs-aside":[{"uid":"{80EE8534-B774-5E37-9F82-2231E3232850}","componentName":"SideNav","dataSource":"available-in-connected-mode","params":{},"fields":{"navType":{"value":"docs"},"useSearch":{"value":"true"}}}],"jssdocs-content":[{"uid":"{054D3D95-062D-5D28-8773-A31054FF2A92}","componentName":"Article","dataSource":"available-in-connected-mode","params":{},"fields":{"text":{"value":"<h1 id=\"extending-the-import-pipeline\">Extending the Import Pipeline</h1>\n<p>The <a href=\"/docs/techniques/working-disconnected/import-process\">import pipeline</a> for the code-first workflow can be extended in powerful ways. This is an example of extending the import process to allow customizing the path of templates you create.</p>\n<h2 id=\"step-1-extend-your-manifest-data\">Step 1: Extend your manifest data</h2>\n<p>The <a href=\"../manifest-generation\">manifest</a> is the format that item data takes on its way to being imported. First, we need to add the path data to the manifest. This is actually awfully easy - just add a new JS property:</p>\n<pre><code class=\"javascript language-javascript\">export default manifest =&gt; {\n  manifest.addComponent({\n    name: \"Welcome\",\n    // we added this property to our welcome component\n    path: \"/sitecore/templates/Welcome\",\n    fields: [\n      { name: \"title\", type: manifest.fieldTypes.singleLineText },\n    ]\n  });\n};\n</code></pre>\n<p>Once added to the manifest declaration, the property is added to the manifest JSON file created when you run <code>jss manifest</code>. This is normally <code>sitecore/manifest/sitecore-import.json</code>.</p>\n<p>When <code>jss deploy items</code> is run, this manifest is bundled up into a JSS manifest package file and uploaded into Sitecore where the <a href=\"/docs/techniques/working-disconnected/import-process\">import pipeline</a> takes over and installs the items.</p>\n<h2 id=\"step-2-modify-the-import-pipeline-to-do-something-with-your-data\">Step 2: Modify the import pipeline to do something with your data</h2>\n<p>To make our custom path work, we need to extend the import pipeline to alter how templates are created by the import process. Specifically we need to target the <code>ProcessTemplates</code> processor in the <code>import</code> pipeline, derive from it, and alter its behaviour. Here's the code to do just that:</p>\n<pre><code class=\"c# language-c#\">using System;\nusing Sitecore.Data.Items;\nusing Sitecore.Diagnostics;\nusing Sitecore.JavaScriptServices.AppServices.Data;\nusing Sitecore.JavaScriptServices.AppServices.Extensions;\nusing Sitecore.JavaScriptServices.AppServices.Models;\nusing Sitecore.JavaScriptServices.Configuration;\n\nnamespace Sitecore.JavaScriptServices.AppServices.Pipelines.Import\n{\n    public class ProcessTemplatesWithPath : ProcessTemplates\n    {\n        protected override TemplateItem CreateTemplate(TemplateDef templateDef, Item parent, Item multilistRoot, AppConfiguration app, IdManager idManager)\n        {\n            // the AdditionalData property is a dictionary of any JSON properties that were _not_ mapped to a TemplateDef property\n            // so our path property - and any other custom properties that are added - will show up here. It will be null if no unmapped\n            // properties exist so make sure to check everything for nulls with ?\n            //\n            // All import pipeline model objects have an AdditionalData property like this.\n            var path = templateDef.AdditionalData?[\"path\"]?.ToString();\n\n            // path not set, use default behavior\n            if (path == null) return base.CreateTemplate(templateDef, parent, multilistRoot, app, idManager);\n\n            // resolve the custom path's parent (to keep things simple, we're not creating any parent hierarchy)\n            var parentItemPath = path.Substring(0, path.LastIndexOf(\"/\"));\n            var customParentItem = parent.Database.GetItem(parentItemPath, parent.Language);\n\n            if (customParentItem == null) throw new InvalidOperationException($\"Parent item for custom import path item {templateDef.Name} ({path}) did not exist.\");\n\n            var templateName = ItemUtil.ProposeValidItemName(templateDef.Name);\n\n            // JSS imports use _consistent IDs_ so that imports across instances use the same Sitecore item GUIDs\n            // This code generates the consistent ID and ensures that it is unique.\n            var templateId = idManager.GetTemplateId(app.Name, templateDef);\n            idManager.AssertIdIsUnused(templateId, $\"template {templateDef.Name}\");\n\n            // ensure we have permissions to create the item\n            if (!customParentItem.CanImportChild(templateName, templateId, out var templateItem))\n            {\n                return null;\n            }\n\n            if (templateItem == null)\n            {\n                Log.Info($\"[JSS] - Creating template - {templateName} (Custom path: {path})\", this);\n                templateItem = parent.Database.Templates.CreateTemplate(templateName, customParentItem);\n\n                // make the db see our new template\n                parent.Database.Engines.TemplateEngine.Reset();\n            }\n            else\n            {\n                Log.Debug($\"[JSS] - Found existing template - {templateName}\", this);\n            }\n\n            // sets the requisite fields on the template item\n            UpdateTemplateItem(templateItem, templateDef, parent, multilistRoot, app, idManager, templateItem.DisplayName);\n\n            return templateItem;\n        }\n    }\n}\n</code></pre>\n<h2 id=\"step-3-insert-our-custom-pipeline-processor-with-a-config-patch-file\">Step 3: Insert our custom pipeline processor with a config patch file</h2>\n<p>Copy the following to <code>App_Config/Include/PickAnyFileName.config</code>. This will cause Sitecore to replace the default <code>ProcessTemplates</code> processor with our custom extended processor:</p>\n<pre><code class=\"xml language-xml\">&lt;configuration xmlns:patch=\"http://www.sitecore.net/xmlconfig/\" xmlns:set=\"http://www.sitecore.net/xmlconfig/set/\" xmlns:role=\"http://www.sitecore.net/xmlconfig/role/\"&gt;\n  &lt;sitecore role:require=\"ContentManagement or Standalone\"&gt;\n    &lt;pipelines&gt;\n      &lt;group groupName=\"javaScriptServices\"&gt;\n        &lt;pipelines&gt;\n          &lt;import&gt;\n            &lt;processor \n              type=\"Sitecore.JavaScriptServices.AppServices.Pipelines.Import.ProcessTemplatesWithPath, Sitecore.JavaScriptServices.AppServices\"\n              patch:instead=\"*[contains(@type, 'ProcessTemplates')]\" /&gt;\n          &lt;/import&gt;\n        &lt;/pipelines&gt;\n      &lt;/group&gt;\n    &lt;/pipelines&gt;\n  &lt;/sitecore&gt;\n&lt;/configuration&gt;\n</code></pre>\n<h2 id=\"step-4-deploy-your-jss-app\">Step 4: Deploy your JSS app</h2>\n<p>Deploy your jss app with <code>jss deploy items</code> (if the app has never been deployed before, use <code>jss deploy app -c</code>). In the deployment log, you should see your custom template get deployed:</p>\n<pre><code>[JSS] - Creating template - Welcome (Custom path: /sitecore/templates/Welcome)\n</code></pre>\n<h2 id=\"step-5-review\">Step 5: Review</h2>\n<p>The template should be deployed at the path you requested in Sitecore. Note: If you've previously deployed your JSS app and have an existing template item in the default location, ensure that you remove it and change any usages of it to the new template.</p>\n"}}}]}}],"jssdocs-footer":[{"uid":"{3C1B1C9D-8B6E-5CD8-A08D-854D8E219ED6}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"center","compactGutter":"24","fullSizeGutter":"32"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{FA03D860-C30D-5824-8D2A-1F2574974AF4}","componentName":"FooterNav","dataSource":"available-in-connected-mode","params":{},"fields":{}}]}},{"uid":"{C30DD5A7-3369-5277-9680-26AD52CC19CB}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"center","margin":"30px"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{E20FBC91-D021-5D1F-AF44-953676D389EE}","componentName":"Disclaimers","dataSource":"available-in-connected-mode","params":{},"fields":{}}]}}]}}},"viewBag":{}};</script><script src="/dist/vendor-client.bundle.js"></script><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script src="/dist/client.bundle.js"></script></body></html>