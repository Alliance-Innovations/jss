<!DOCTYPE html>
<html lang="en" data-reactroot=""><head><link rel="stylesheet" href="/dist/server.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/dist/client.css"/><link rel="icon" type="image/png" href="/assets/img/favicon-32x32.png"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Sitecore JavaScript Services Documentation"/><title data-react-helmet="true">Angular Sample App | Sitecore JSS Documentation</title></head><body><div id="app"><section class="ant-layout" id="app-wrap"><header class="ant-layout-header"><div class="ant-row ant-row-start" style="padding:30px"><a style="flex:300px" href="/"><img src="/assets/img/sitecore-logo.svg" height="53px" alt="Sitecore JSS" class="logo"/></a><ul flex="auto" style="border-bottom:none" class="ant-menu ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/features">Features</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child ant-menu-item-selected" role="menuitem"><a class="nav-link" href="/docs">Documentation</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/guides">Guides</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" target="_blank" rel="noopener noreferrer" href="https://www.sitecore.com/getting-started/developer-trial">Trial</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><a class="nav-link" href="/community">Community</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item get-started-button ant-menu-item-only-child" role="menuitem"><a class="btn btn-secondary btn-sm float-left text-white" href="/docs/getting-started/quick-start">Get Started</a></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></div></header><div class="main-wrapper"><section class="ant-layout border-bottom"><section class="jumbo-container jumbo-container-short bg-light"><div class="default"><div class="circleContainer"><div class="circleContainer-outer-top"><div class="circleContainer-inner"><div class="circleContainer-inner-primary"><div class="circ circ_right circle-fg-right-lg bg-success" id="defaultimage"><img src="/assets/img/transparent-1x1.png"/></div></div><div class="circleContainer-inner-secondary"><div class="circ circ_right circle-fg-right-lg-sub bg-primary"></div></div></div></div><div class="circleContainer-outer-bottom"><div class="circleContainer-inner"><div class="circleContainer-inner-primary"><div class="circle circle-fg-left-md bg-success"></div></div></div></div></div><div class="shapes-wrapper"><div class="outer-shape container"><div class="inner-shape row"><div class="content-wrapper col-12 col-md-9 min-height"><div class="content-wrapper-inner"><h1 class="title mb-3">Documentation</h1><p class="copy mb-0 p-0">Read and search through all the Sitecore JSS documentation</p></div></div></div></div></div></div></section></section><div class="ant-row ant-row-space-between" style="margin-left:-20px;margin-right:-20px;flex-wrap:nowrap;margin:30px"><div style="padding-left:20px;padding-right:20px;flex:0 0 300px" class="ant-col"><aside><div class="side-nav"><form class="bd-search d-flex align-items-center"><input type="search" class="form-control" id="search-input" placeholder="Search..." aria-label="Search for..." autoComplete="off"/><button class="btn btn-link bd-search-docs-toggle d-md-none p-0 ml-3" type="button" data-toggle="collapse" data-target="#bd-docs-nav" aria-controls="bd-docs-nav" aria-expanded="false" aria-label="Toggle docs navigation"></button></form><ul class="ant-menu ant-menu-light ant-menu-root ant-menu-inline" role="menu"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="getting-started$Menu" aria-haspopup="true" title="Getting Started">Getting Started<i class="ant-menu-submenu-arrow"></i></div><ul id="getting-started$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/quick-start">1. Quick Start</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/first-component">2. Your First Component</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/jss-server-install">3. JSS Server Setup</a></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/docs/getting-started/app-deployment">4. App Deployment</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" title="Fundamentals">Fundamentals<i class="ant-menu-submenu-arrow"></i></div><div></div></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-selected" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" title="Client Frameworks">Client Frameworks<i class="ant-menu-submenu-arrow"></i></div><div></div></li><li class="ant-menu-submenu ant-menu-submenu-inline" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true" title="Techniques">Techniques<i class="ant-menu-submenu-arrow"></i></div><div></div></li></ul><div class="navbar-nav bd-navbar-nav flex-column"><a class="nav-link" href="/release-notes">Release Notes</a><a class="nav-link" href="/help">Help</a></div></div></aside></div><div style="padding-left:20px;padding-right:20px;flex:auto" class="ant-col"><main><div class="article markdown-section" match="[object Object]" location="[object Object]" history="[object Object]"><h1 id="jss-angular-tips--best-practices">JSS Angular Tips / Best Practices</h1>
<h2 id="do-not-use-the-base-tag">Do not use the <code>&lt;base&gt;</code> tag!</h2>
<p>Most Angular applications make use of the <code>&lt;base&gt;</code> tag in their HTML template to set a base href for routing. JSS Angular apps <em>cannot use this technique</em>, as it is incompatible with Sitecore's Experience Editor capabilities. Instead JSS Angular apps should use the <a href="https://angular.io/api/common/APP_BASE_HREF"><code>APP_BASE_HREF</code></a> token to provide their base href via dependency injection, thus avoiding the other semantics that come with a <code>&lt;base&gt;</code> tag. The sample application does this, but it can become an issue integrating with any existing Angular infrastructure.</p>
<h2 id="use-lazy-loaded-components-for-infrequently-used-jss-components">Use lazy loaded components for infrequently used JSS components</h2>
<p>JSS Angular supports lazy-loading components to improve initial page load times and reduce bandwidth use. This works very similarly to lazy loaded routes in Angular without JSS, in that the component gets a module that is dynamically loaded when the component is used on a route. Generally speaking, any component not used on almost every route is a good candidate to be lazy loaded.</p>
<p>Out of the box, you can use <code>jss scaffold &lt;componentName&gt; --lazyload</code> to scaffold and auto-register a lazy-loaded component.</p>
<p>To add lazy-loading to an existing component, you need to add an Angular module to the component folder - for a <code>My</code> component, something like:</p>
<pre><code class="js language-js">import { NgModule } from '@angular/core';
import { JssModule } from '@sitecore-jss/sitecore-jss-angular';
import { MyComponent } from './my.component';

@NgModule({
  imports: [
    // secret sauce
    JssModule.forChild(MyComponent)
  ],
  declarations: [
    MyComponent,
  ],
})
export class MyModule { }
</code></pre>
<p>If you're using the default code-generated <code>app-components.module.ts</code> that's all there is to it, the code generator will automatically register the component as lazy loaded. For those not using code generation, there is a second parameter to <code>JssModule.withComponents()</code> for lazy-loaded components which works just like lazy-loaded routes:</p>
<pre><code class="js language-js">@NgModule({
  imports: [
    AppComponentsSharedModule,
    JssModule.withComponents([
      // non-lazy components
    ], [
      // in this case, 'path' = the component name, loadChildren = the module path to load for it
      // this is exactly like lazy loaded routes, in fact it uses the router under the hood to do it.
      // loadChildren is the relative path to the module, with the hash and then the name of the exported module class.
      { path: 'My', loadChildren: './my/my.module#MyModule'},
    ]),
  ],
  exports: [
    JssModule,
    AppComponentsSharedModule,
  ],
  declarations: [
    // non-lazy components
  ],
})
export class AppComponentsModule { }
</code></pre>
<p>You can also load multiple components from one module. This will improve code splitting of your application and will reduce the calls which need to be made for loading application resources by bundling components into loadable groups.</p>
<blockquote>
  <p>NOTE: multiple component loading is not compatible with the default code generation. You'll need to turn off code generation and maintain <code>app-components.module.ts</code> manually to use this technique.</p>
</blockquote>
<p>For lazy-loading with multiple components you need to register two or more components with <code>JssModule.forChild()</code> method into lazy-loading module. You need to provide component name and component type.</p>
<pre><code class="js language-js">import { NgModule, ANALYZE_FOR_ENTRY_COMPONENTS } from '@angular/core';
import { ROUTES } from '@angular/router';
import { JssModule, DYNAMIC_COMPONENT } from '@sitecore-jss/sitecore-jss-angular';
import { FirstComponent } from './first.component';
import { SecondComponent } from './second.component';

@NgModule({
  imports: [
    // secret sauce
    {
      ngModule: JssModule,
      providers: [
        {
          provide: DYNAMIC_COMPONENT,
          useValue: {
            'FirstComponent': FirstComponent,
            'SecondComponent': SecondComponent
          }
        },
        {
          provide: ANALYZE_FOR_ENTRY_COMPONENTS,
          useValue: [
            { name: 'FirstComponent', type: FirstComponent },
            { name: 'SecondComponent', type: SecondComponent }
          ],
          multi: true
        }, 
        {
          provide: ROUTES,
          useValue: [],
          multi: true
        }
      ]
    }
  ],
  declarations: [
    FirstComponent,
    SecondComponent
  ],
})
export class MyModule { }
</code></pre>
<p>There aren't changes in your component module. If you use multiple components lazy-loading, you need to have same value for <code>loadChildren</code> if the components are from same module and also the path value need to be same with component name from lazy-loading module initialization.    </p>
<pre><code class="js language-js">@NgModule({
  imports: [
    AppComponentsSharedModule,
    JssModule.withComponents([
      // non-lazy components
    ], [
      { path: 'FirstComponent', loadChildren: './my/my.module#MyModule'},
      { path: 'SecondComponent', loadChildren: './my/my.module#MyModule'},
    ]),
  ],
  exports: [
    JssModule,
    AppComponentsSharedModule,
  ],
  declarations: [
    // non-lazy components
  ],
})
export class AppComponentsModule { }
</code></pre>
<h2 id="ensure-components-are-display-block">Ensure components are <code>display: block</code></h2>
<p>When writing UI components in Angular, the default style for <code>display</code> for all new components is <code>inline</code>. For components to work as expected in the Experience Editor, set the display style to <code>display: block;</code> for all components root elements. I.e:</p>
<pre><code class="css language-css">:host {
  display: block;
}
</code></pre>
<p>Another way of working around this is to change the selector of the component to use an existing DOM element like <code>div</code> to get a <code>display: block;</code>. This approach is discouraged by the <a href="https://angular.io/guide/styleguide#components-as-elements">Angular Style Guide</a> but is an effective way none the less. For example:</p>
<pre><code class="ts language-ts">@Component({
  selector: 'div [app-hello-world]',
  templateUrl: `
    Hello world
  `,
})
export class HelloWorldComponent {
  rendering: any;
}
</code></pre>
<h2 id="use-sc-placeholder-as-an-attribute">Use <code>sc-placeholder</code> as an attribute</h2>
<p>Your application DOM will be cleaner if you utilize <code>sc-placeholder</code> as an attribute, rather than a custom element, for example instead of <code>&lt;sc-placeholder&gt;</code> use <code>&lt;div sc-placeholder&gt;</code>.</p>
<h2 id="use-ng-container-if-necessary-with-structural-directives">Use <code>ng-container</code> if necessary with structural directives</h2>
<p>Because JSS makes use of structural directives for its field helpers, other structural directives such as <code>ngIf</code>, <code>ngFor</code>, and <code>ngSwitchCase</code> may need to be applied on a wrapper such as <code>&lt;ng-container /&gt;</code>. Angular does not allow multiple structural directives on a single element. For example:</p>
<pre><code>&lt;ng-container *ngIf="condition"&gt;
  &lt;span *scText="myField"&gt;&lt;/span&gt;
&lt;/ng-container&gt;
</code></pre>
</div><hr/><div>Found a problem? Have something to add? <a href="https://github.com/Sitecore/jss/edit/dev/docs/data/routes/docs/client-frameworks/angular/sample-app/en.md">Edit this on GitHub</a></div></main></div></div></div><footer class="ant-layout-footer"><div class="ant-row ant-row-center" style="margin-left:-16px;margin-right:-16px"><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/features">Features</a><nav class="nav flex-column"><a class="nav-link small text-white" href="/features/why-jss">Why JSS?</a><a class="nav-link small text-white" href="/features/why-sitecore">Why Sitecore?</a></nav></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/docs">Documentation</a><nav class="nav flex-column"><a class="nav-link small text-white" href="/docs/getting-started/quick-start">Getting Started</a><a class="nav-link small text-white" href="/docs/fundamentals/architecture">Fundamentals</a><a class="nav-link small text-white" href="/docs/client-frameworks/react/react-overview">Client Frameworks</a><a class="nav-link small text-white" href="/docs/techniques/mvc-integration/javascript-rendering">Techniques</a><a class="nav-link small text-white" href="/release-notes">Release Notes</a><a class="nav-link small text-white" href="/help">FAQs</a></nav></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a href="https://www.sitecore.com/getting-started/developer-trial" target="_blank" rel="noopener noreferrer" class="nav-link text-uppercase small text-white font-weight-bold">Start Trial</a></div><div style="padding-left:16px;padding-right:16px" class="ant-col ant-col-xs-24 ant-col-md-5"><a class="nav-link text-uppercase small text-white font-weight-bold" href="/community">Community</a><nav class="nav flex-column"><a href="#" class="nav-link small text-white">Sitecore Community</a><a href="slack://channel?team=T09SHRBNU&amp;id=C7JT0NRQW" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" focusable="false"><title>Slack</title><path fill="currentColor" d="M210.787 234.832l68.31-22.883 22.1 65.977-68.309 22.882z"></path><path d="M490.54 185.6C437.7 9.59 361.6-31.34 185.6 21.46S-31.3 150.4 21.46 326.4 150.4 543.3 326.4 490.54 543.34 361.6 490.54 185.6zM401.7 299.8l-33.15 11.05 11.46 34.38c4.5 13.92-2.87 29.06-16.78 33.56-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18l-11.46-34.38-68.36 22.92 11.46 34.38c4.5 13.92-2.87 29.06-16.78 33.56-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18l-11.46-34.43-33.15 11.05c-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18c-4.5-13.92 2.87-29.06 16.78-33.56l33.12-11.03-22.1-65.9-33.15 11.05c-2.87.82-6.14 1.64-9 1.23a27.32 27.32 0 0 1-24.56-18c-4.48-13.93 2.89-29.07 16.81-33.58l33.15-11.05-11.46-34.38c-4.5-13.92 2.87-29.06 16.78-33.56s29.06 2.87 33.56 16.78l11.46 34.38 68.36-22.92-11.46-34.38c-4.5-13.92 2.87-29.06 16.78-33.56s29.06 2.87 33.56 16.78l11.47 34.42 33.15-11.05c13.92-4.5 29.06 2.87 33.56 16.78s-2.87 29.06-16.78 33.56L329.7 194.6l22.1 65.9 33.15-11.05c13.92-4.5 29.06 2.87 33.56 16.78s-2.88 29.07-16.81 33.57z" fill="currentColor"></path></svg>JSS Slack</a><a href="https://sitecore.stackexchange.com/tags/jss" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120"><title>Sitecore StackExchange</title><path fill="currentColor" d="M22.4 57.5h74.8v15.4H22.4z"></path><path fill="currentColor" d="M22.4 37.6h74.8V53H22.4z"></path><path fill="currentColor" d="M85.5 17H34.4c-6.6 0-12 5.5-12 12.3v4h74.8v-4C97.2 22.5 92 17 85.5 17z"></path><path fill="currentColor" d="M22.4 77.3v4c0 6.8 5.4 12.3 12 12.3h32v16.3l15.8-16.3h3.5c6.6 0 12-5.5 12-12.3v-4H22.4z"></path></svg>Stack Exchange</a><a href="https://github.com/sitecore/jss" class="nav-link small text-white"><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z" fill="currentColor" fill-rule="evenodd"></path></svg>Github</a></nav></div></div><div class="ant-row ant-row-center" style="margin:30px"><div class="ant-col footer-copyright small">© Copyright <!-- -->2020<!-- -->, Sitecore. All Rights Reserved.</div><div class="ant-col footer-copyright small"><a href="https://www.sitecore.com/trust" class="pl-2 pr-2" target="_blank" rel="noopener noreferrer">Legal</a><a href="https://www.sitecore.com/trust/privacy-policy" class="pl-2" target="_blank" rel="noopener noreferrer">Privacy</a></div></div></footer></section></div><script>window.__data={"sitecore":{"context":{"pageEditing":false,"site":{"name":"JssDisconnectedLayoutService"},"pageState":"normal","language":"en"},"route":{"databaseName":"available-in-connected-mode","deviceId":"available-in-connected-mode","itemId":"available-in-connected-mode","itemLanguage":"en","itemVersion":1,"layoutId":"available-in-connected-mode","templateId":"available-in-connected-mode","templateName":"Docs Route","name":"angular-tips","fields":{"title":{"value":"Angular Tips"},"editLink":{"value":{"text":"Edit this on GitHub","href":"https://github.com/Sitecore/jss/edit/dev/docs/data/routes/docs/client-frameworks/angular/angular-tips/en.md"}}},"placeholders":{"jssdocs-header":[{"uid":"{59C3793E-EC6C-5526-8517-F8FF56AFB5A2}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"start","padding":"30px"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{B7A298DE-EF59-54B0-A2F8-D4F9DB80E4FB}","componentName":"Logo","dataSource":"available-in-connected-mode","params":{"flex":"300px"},"fields":{}},{"uid":"{7F6D4DBB-731D-5210-AFCE-690FD70C70A9}","componentName":"MainNav","dataSource":"available-in-connected-mode","params":{"flex":"auto"},"fields":{"selectedMenuItem":{"value":"docs"}}}]}}],"jssdocs-main":[{"uid":"{FF9F97D1-22F5-5FDF-AA1A-ED56072DDD86}","componentName":"ArticleContainer","dataSource":"available-in-connected-mode","params":{},"fields":{},"placeholders":{"jssdocs-jumbo":[{"uid":"{E9A575CA-1191-5F39-B4A5-A1844859772A}","componentName":"FeatureJumboShort","dataSource":"available-in-connected-mode","params":{},"fields":{"image":{"value":{"src":"/assets/img/transparent-1x1.png"}},"imageclass":{"value":"defaultimage"},"csscolorclass":{"value":"default"},"title":{"value":"Documentation"},"text":{"value":"Read and search through all the Sitecore JSS documentation"}}}],"jssdocs-aside":[{"uid":"{480B95A6-2774-5CD2-8B9B-E4BE45A75F25}","componentName":"SideNav","dataSource":"available-in-connected-mode","params":{},"fields":{"navType":{"value":"docs"},"useSearch":{"value":"true"}}}],"jssdocs-content":[{"uid":"{D513BDC8-F173-5430-B8FF-1BB1847E5EB9}","componentName":"Article","dataSource":"available-in-connected-mode","params":{},"fields":{"text":{"value":"<h1 id=\"jss-angular-tips--best-practices\">JSS Angular Tips / Best Practices</h1>\n<h2 id=\"do-not-use-the-base-tag\">Do not use the <code>&lt;base&gt;</code> tag!</h2>\n<p>Most Angular applications make use of the <code>&lt;base&gt;</code> tag in their HTML template to set a base href for routing. JSS Angular apps <em>cannot use this technique</em>, as it is incompatible with Sitecore's Experience Editor capabilities. Instead JSS Angular apps should use the <a href=\"https://angular.io/api/common/APP_BASE_HREF\"><code>APP_BASE_HREF</code></a> token to provide their base href via dependency injection, thus avoiding the other semantics that come with a <code>&lt;base&gt;</code> tag. The sample application does this, but it can become an issue integrating with any existing Angular infrastructure.</p>\n<h2 id=\"use-lazy-loaded-components-for-infrequently-used-jss-components\">Use lazy loaded components for infrequently used JSS components</h2>\n<p>JSS Angular supports lazy-loading components to improve initial page load times and reduce bandwidth use. This works very similarly to lazy loaded routes in Angular without JSS, in that the component gets a module that is dynamically loaded when the component is used on a route. Generally speaking, any component not used on almost every route is a good candidate to be lazy loaded.</p>\n<p>Out of the box, you can use <code>jss scaffold &lt;componentName&gt; --lazyload</code> to scaffold and auto-register a lazy-loaded component.</p>\n<p>To add lazy-loading to an existing component, you need to add an Angular module to the component folder - for a <code>My</code> component, something like:</p>\n<pre><code class=\"js language-js\">import { NgModule } from '@angular/core';\nimport { JssModule } from '@sitecore-jss/sitecore-jss-angular';\nimport { MyComponent } from './my.component';\n\n@NgModule({\n  imports: [\n    // secret sauce\n    JssModule.forChild(MyComponent)\n  ],\n  declarations: [\n    MyComponent,\n  ],\n})\nexport class MyModule { }\n</code></pre>\n<p>If you're using the default code-generated <code>app-components.module.ts</code> that's all there is to it, the code generator will automatically register the component as lazy loaded. For those not using code generation, there is a second parameter to <code>JssModule.withComponents()</code> for lazy-loaded components which works just like lazy-loaded routes:</p>\n<pre><code class=\"js language-js\">@NgModule({\n  imports: [\n    AppComponentsSharedModule,\n    JssModule.withComponents([\n      // non-lazy components\n    ], [\n      // in this case, 'path' = the component name, loadChildren = the module path to load for it\n      // this is exactly like lazy loaded routes, in fact it uses the router under the hood to do it.\n      // loadChildren is the relative path to the module, with the hash and then the name of the exported module class.\n      { path: 'My', loadChildren: './my/my.module#MyModule'},\n    ]),\n  ],\n  exports: [\n    JssModule,\n    AppComponentsSharedModule,\n  ],\n  declarations: [\n    // non-lazy components\n  ],\n})\nexport class AppComponentsModule { }\n</code></pre>\n<p>You can also load multiple components from one module. This will improve code splitting of your application and will reduce the calls which need to be made for loading application resources by bundling components into loadable groups.</p>\n<blockquote>\n  <p>NOTE: multiple component loading is not compatible with the default code generation. You'll need to turn off code generation and maintain <code>app-components.module.ts</code> manually to use this technique.</p>\n</blockquote>\n<p>For lazy-loading with multiple components you need to register two or more components with <code>JssModule.forChild()</code> method into lazy-loading module. You need to provide component name and component type.</p>\n<pre><code class=\"js language-js\">import { NgModule, ANALYZE_FOR_ENTRY_COMPONENTS } from '@angular/core';\nimport { ROUTES } from '@angular/router';\nimport { JssModule, DYNAMIC_COMPONENT } from '@sitecore-jss/sitecore-jss-angular';\nimport { FirstComponent } from './first.component';\nimport { SecondComponent } from './second.component';\n\n@NgModule({\n  imports: [\n    // secret sauce\n    {\n      ngModule: JssModule,\n      providers: [\n        {\n          provide: DYNAMIC_COMPONENT,\n          useValue: {\n            'FirstComponent': FirstComponent,\n            'SecondComponent': SecondComponent\n          }\n        },\n        {\n          provide: ANALYZE_FOR_ENTRY_COMPONENTS,\n          useValue: [\n            { name: 'FirstComponent', type: FirstComponent },\n            { name: 'SecondComponent', type: SecondComponent }\n          ],\n          multi: true\n        }, \n        {\n          provide: ROUTES,\n          useValue: [],\n          multi: true\n        }\n      ]\n    }\n  ],\n  declarations: [\n    FirstComponent,\n    SecondComponent\n  ],\n})\nexport class MyModule { }\n</code></pre>\n<p>There aren't changes in your component module. If you use multiple components lazy-loading, you need to have same value for <code>loadChildren</code> if the components are from same module and also the path value need to be same with component name from lazy-loading module initialization.    </p>\n<pre><code class=\"js language-js\">@NgModule({\n  imports: [\n    AppComponentsSharedModule,\n    JssModule.withComponents([\n      // non-lazy components\n    ], [\n      { path: 'FirstComponent', loadChildren: './my/my.module#MyModule'},\n      { path: 'SecondComponent', loadChildren: './my/my.module#MyModule'},\n    ]),\n  ],\n  exports: [\n    JssModule,\n    AppComponentsSharedModule,\n  ],\n  declarations: [\n    // non-lazy components\n  ],\n})\nexport class AppComponentsModule { }\n</code></pre>\n<h2 id=\"ensure-components-are-display-block\">Ensure components are <code>display: block</code></h2>\n<p>When writing UI components in Angular, the default style for <code>display</code> for all new components is <code>inline</code>. For components to work as expected in the Experience Editor, set the display style to <code>display: block;</code> for all components root elements. I.e:</p>\n<pre><code class=\"css language-css\">:host {\n  display: block;\n}\n</code></pre>\n<p>Another way of working around this is to change the selector of the component to use an existing DOM element like <code>div</code> to get a <code>display: block;</code>. This approach is discouraged by the <a href=\"https://angular.io/guide/styleguide#components-as-elements\">Angular Style Guide</a> but is an effective way none the less. For example:</p>\n<pre><code class=\"ts language-ts\">@Component({\n  selector: 'div [app-hello-world]',\n  templateUrl: `\n    Hello world\n  `,\n})\nexport class HelloWorldComponent {\n  rendering: any;\n}\n</code></pre>\n<h2 id=\"use-sc-placeholder-as-an-attribute\">Use <code>sc-placeholder</code> as an attribute</h2>\n<p>Your application DOM will be cleaner if you utilize <code>sc-placeholder</code> as an attribute, rather than a custom element, for example instead of <code>&lt;sc-placeholder&gt;</code> use <code>&lt;div sc-placeholder&gt;</code>.</p>\n<h2 id=\"use-ng-container-if-necessary-with-structural-directives\">Use <code>ng-container</code> if necessary with structural directives</h2>\n<p>Because JSS makes use of structural directives for its field helpers, other structural directives such as <code>ngIf</code>, <code>ngFor</code>, and <code>ngSwitchCase</code> may need to be applied on a wrapper such as <code>&lt;ng-container /&gt;</code>. Angular does not allow multiple structural directives on a single element. For example:</p>\n<pre><code>&lt;ng-container *ngIf=\"condition\"&gt;\n  &lt;span *scText=\"myField\"&gt;&lt;/span&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}}}]}}],"jssdocs-footer":[{"uid":"{7F3400A0-DE65-5A38-8E7C-BFB2D3E94839}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"center","compactGutter":"24","fullSizeGutter":"32"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{3A01ABB2-6FE7-525F-8B7C-C7A5A41F1DB5}","componentName":"FooterNav","dataSource":"available-in-connected-mode","params":{},"fields":{}}]}},{"uid":"{3736E04D-A7C6-5675-ADA8-4965241564DE}","componentName":"Row","dataSource":"available-in-connected-mode","params":{"justify":"center","margin":"30px"},"fields":{},"placeholders":{"jssdocs-row":[{"uid":"{BAD3544C-B97A-5174-AC41-178A05B0C2AF}","componentName":"Disclaimers","dataSource":"available-in-connected-mode","params":{},"fields":{}}]}}]}}},"viewBag":{}};</script><script src="/dist/vendor-client.bundle.js"></script><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script src="/dist/client.bundle.js"></script></body></html>